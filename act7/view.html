<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Game of Thrones API</title>
    <link rel="icon" href="../Logo.png">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<style>
    .viewContents {
        background-image: url("assets/gotBg.jpg");
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        height: 100vh;

    }

    .characterName,
    .sectionName {
        font-family: "Cinzel Decorative", serif;
        font-weight: 400;
        font-style: normal;

    }

    body {
        font-family: "Poppins", serif;
        font-weight: 400;
        font-style: normal;
    }
</style>

<body id="body" data-bs-theme="dark">
    <div class="container-fluid viewContents p-0" id="viewTitle">
        <div class="container-fluid p-0">
            <nav class="navbar navbar-expand-lg bg-body-tertiary shadow" data-bs-theme="dark">
                <div class="container-fluid">
                    <img src="assets/gotLogo2.png" style="width: 190px; height: 65px; padding-left: 10px;" />
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <div class="ms-auto">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="index.html">HOME</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="../index.html#projects">PROJECTS</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="../index.html#about">ABOUT</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <div class="container viewTitle d-flex align-items-end" style="height:90vh">
            <div class="row">
                <div class="col">
                    <p class="characterName fw-bold text-center display-1">
                        Meet <span id="fullName"></span>
                    </p>
                    <p class="lead text-center fs-5">
                        Meet one of the iconic characters from Game of Thrones! Discover their full name, title,
                        family background, and explore more of their rich history in Westeros.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="container mt-5">
        <div class="row viewInfo">
            <div class="col-12 col-md-4 col-lg-6 mt-5">
                <div class="card rounded-5">
                    <div class="py-3 px-4"><b>Name: </b><span id="charName"></span></div>
                    <div class="py-3 px-4"><b>Family: </b><span id="family"></span></div>
                    <div class="py-3 px-4"><b>Title: </b><span id="title"></span></div>
                    <div class="py-3 px-4"><b>ID: </b><span id="id"></span></div>
                </div>
            </div>
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card rounded-5 my-5" id="imgContainer"
                    style="display: flex; justify-content: center; align-items: center;">
                    <img class="py-5" id="img" src="" style=" width: 70%; height: 80%; object-fit: contain;">
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row mt-5">
            <div class="col">
                <h1 class="display-3 sectionName">
                    Discover the world of ASOIAF
                    <button type="button" onclick="expandContent()" class="btn btn-outline-secondary"
                        id="btnExpand">Learn
                        more</button>
                </h1>
            </div>
        </div>
    </div>
    <div class="container-fluid" id="footer" style="display: none;">
        <div class="row">
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card rounded-5 my-5" id="imgContainer"
                    style="display: flex; justify-content: center; align-items: center;">
                    <img class="py-5" src="assets/westeros.jpg" style=" width: 70%; height: 80%; object-fit: contain;">
                </div>
            </div>
            <div class="col-12 col-md-4 col-lg-6 mt-5">
                <div class="card rounded-5 p-5">
                    <h3>Introduction to the World of <i>A Song of Ice and Fire</i></h3>
                    <p><b>A Song of Ice and Fire</b> is a sprawling fantasy series by George R.R. Martin, best known
                        for inspiring the TV series <i>Game of Thrones</i>.
                        Set in the continents of Westeros and Essos, the story weaves together political intrigue,
                        warfare, family feuds, romance, and supernatural elements.
                        At its core, the series explores the struggle for power among noble families, the looming
                        threat of an ancient enemy from beyond the Wall, and the harsh realities of leadership and
                        ambition.</p>
                    <br>
                    <h3>The Eight Regions of Westeros + Beyond the Wall</h3>
                    <p>Westeros is divided into several regions, each ruled by a noble family. These regions, though
                        united under the Iron Throne, have distinct cultures, climates, and histories.</p>
                    <br>
                    <h4>The North</h4>
                    <p><b>Capital: </b>Winterfell</p>
                    <p><b>House: </b>Stark</p>
                    <p>The North is the largest region, known for its cold weather and honor-bound inhabitants. The
                        Starks have ruled the North for generations, with Winterfell serving as their ancestral seat.
                        The region values loyalty and tradition.</p>
                    <br>
                    <h4>The Riverlands</h4>
                    <p><b>Capital: </b>Riverrun</p>
                    <p><b>House: </b>Tully</p>
                    <p>Located at the center of Westeros, the Riverlands are a fertile region with many rivers. This
                        makes it a frequent battleground for warring factions. House Tully is known for its motto:
                        "Family, Duty, Honor."</p>
                    <br>
                    <h4>The Vale of Arryn</h4>
                    <p><b>Capital: </b>The Eyrie</p>
                    <p><b>House: </b>Arryn</p>
                    <p>The Vale is a mountainous region, known for its impregnable stronghold, the Eyrie. House Arryn
                        has a long history of serving as protectors of the realm.</p>
                    <br>
                    <h4>The Westerlands</h4>
                    <p><b>Capital: </b>Casterly Rock</p>
                    <p><b>House: </b>Lannister</p>
                    <p>The Westerlands are known for their vast gold mines, which make House Lannister one of the
                        richest families in Westeros. Their motto, "A Lannister Always Pays His Debts," reflects their
                        influence and power.</p>
                    <br>
                    <h4>The Reach</h4>
                    <p><b>Capital: </b>Highgarden</p>
                    <p><b>House: </b>Tyrell</p>
                    <p>The Reach is a lush and prosperous region, providing much of the food for the kingdom. House
                        Tyrell is known for its wealth, sophistication, and political maneuvering.</p>
                    <br>
                    <h4>The Stormlands</h4>
                    <p><b>Capital: </b>Storm's End</p>
                    <p><b>House: </b>Baratheon</p>
                    <p>The Stormlands are a rugged region with frequent storms. House Baratheon, known for its warriors,
                        once ruled the Iron Throne through King Robert Baratheon.</p>
                    <br>
                    <h4>Dorne</h4>
                    <p><b>Capital: </b>Sunspear</p>
                    <p><b>House: </b>Martell</p>
                    <p>Located in the southernmost part of Westeros, Dorne has a warm, arid climate and a fiercely
                        independent culture. Its people are known for their passion, and House Martell embraces the
                        motto: "Unbowed, Unbent, Unbroken."</p>
                    <br>
                    <h4>The Iron Islands</h4>
                    <p><b>Capital: </b>Pyke</p>
                    <p><b>House: </b>Greyjoy</p>
                    <p>The Iron Islands are a harsh, seafaring region, ruled by House Greyjoy. Its inhabitants, the
                        Ironborn, pride themselves on raiding and living by the motto: "We Do Not Sow."</p>
                    <br>
                    <h4>Beyond the Wall</h4>
                    <p><b>Inhabitants: </b>Free Folk (Wildings)</p>
                    <p><b>Threat: </b>White Walkers and the Army of the Dead</p>
                    <p>North of the Wall lies a cold and wild expanse, home to the Free Folk, who reject the rule of the
                        Iron Throne. The Wall, manned by the Night's Watch, protects Westeros from the supernatural
                        threats of White Walkers, creatures of ice and death. As winter approaches, the ancient enemy
                        awakens, posing a threat to all of humanity.</p>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        var fullName = document.getElementById("fullName");
        var img = document.getElementById("img");
        var family = document.getElementById("family");
        var title = document.getElementById("title");
        var id = document.getElementById("id");
        var charName = document.getElementById('charName');

        const loadGOT = async (searchTerm) => {
            const response = await fetch('https://thronesapi.com/api/v2/Characters/' + searchTerm);
            const got = await response.json();

            fullName.innerHTML = got.fullName;
            img.src = got.imageUrl;
            family.innerHTML = got.family;
            title.innerHTML = got.title;
            id.innerHTML = got.id;
            charName.innerHTML = got.fullName;
        }

        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);

        if (urlParams.has('characterName')) {
            loadGOT(urlParams.get('characterName'));
        } else {
            document.getElementById("fullName").innerHTML = "No data to show";
        }

        var display = "none";
        function expandContent() {
            var footer = document.getElementById("footer");
            var btnExpand = document.getElementById("btnExpand");

            if (display == "none") {
                footer.style.display = "block";
                display = "block";
                btnExpand.innerHTML = "Close";
            } else {
                footer.style.display = "none";
                display = "none";
                btnExpand.innerHTML = "Learn more";
            }
        }
    </script>

</body>

</html>